#### 什么是接口幂等性？

    接口幂等性就是用户对于同一操作发起的一次请求或者多次请求
    的结果是一致的，不会因为多次点击而产生了副作用。举个最简
    单的例子，那就是支付，用户购买商品后支付，支付扣款成功，
    但是返回结果的时候网络异常，此时钱已经扣了，用户再次点击
    按钮，此时会进行第二次扣款，返回结果成功，用户查询余额返
    发现多扣钱了，流水记录也变成了两条．．．,这就没有保证接
    口的幂等性



#### 为什么要保证接口得幂等性

    现如今我们的系统大多拆分为分布式SOA，或者微服务，一套系
    统中包含了多个子系统服务，而一个子系统服务往往会去调用另
    一个服务，而服务调用服务无非就是使用RPC通信或者restful，
    既然是通信，那么就有可能在服务器处理完毕后返回结果的时候
    挂掉，这个时候用户端发现很久没有反应，那么就会多次点击按
    钮，这样请求有多次，那么处理数据的结果是否要统一呢？那是
    肯定的！尤其在支付场景。


#### 增删改查的幂等性

    查询是天然得幂等操作
    删除在不返回结果得情况下也是幂等的
    修改在值得增量修改情况下是不幂等的（如：原值+1）
    新增在重复提交的场景下是不幂等的
    
#### 如何做到幂等

    1. 通过代码逻辑判断实现 
        下单去支付的场景，第一次因网络原因没有响应给前端或
        者后台支付成功后处理异常。防止重复支付校验，一般会
        在支付前做订单状态的校验，缓存订单号及订单状态，Ke
        y的过期时间为下单支付超时时间。
        
    2. 使用token机制实现下面以支付系统为例,分别对接口的幂等性进行说明与实现