<font size=4>

#### 读properties资源文件
######   Properties的处理方式是将其作为一个映射表,而且这个类表示了一个持久的属性集,他是继承HashTable这个类。ResourceBundle本质上也是一个映射，但是它提供了国际化的功能。  


1.类加载器（文件在src下）

```
InputStream is = 当前类.class.getClassLoader().getResourceAsStream(resource);

List<Url> urls = 当前类.class.getClassLoader().getResource("com/tangdi/dao");
```

2.文件流（文件不在src下）

```
InputStream is = new FileInputStream(
                    System.getProperty("user.dir") + "/WebContent/WEB-INF/" + resource);
```


3.java.util.properties

```
InputStream is = 当前类.class.getClassLoader().getResourceAsStream("config.properties");
Properties p = new Properties();
p.load(is);
System.out.println(p.get("payment.no.selfService"));
```

4.java.util.ResourceBundle

```
// 创建实例并指定地区
ResourceBundle bundleCN = ResourceBundle.getBundle("props.messages",new Locale("zh","CN"));
ResourceBundle bundleUS = ResourceBundle.getBundle("props.messages",new Locale("en","US"));
msg=bundleCN.getString("payment.no.selfService");
```


5.org.springframework.core.io.support.PropertiesLoaderUtils

```
PropertiesLoaderUtils.loadAllProperties(i18n/exception_ko.properties);
```

6.使用注解

```
@Value("${api.url.cms.findCityInfo}")
private String findCityInfoAPI;
```
```

//注解将配置映射到到实体类
@ConfigurationProperties(prefix = "mq.upp.callback.rocket", ignoreUnknownFields = false)
@Configuration
public class RocketMqUPPCallBackConfig {
    private String configUrl;
    private String produceAppName;
    private String produceTopicName;
    private String consumeAppName;
    private String consumeTopicName;
    
    //getter
    //setter
}
//注解启动加载上述配置映射实体类到该类中
@Component
@EnableConfigurationProperties(RocketMqUPPCallBackConfig.class)
@Configuration
public class RocketMqUPPCallBackBean {
private static final Logger LOGGER= LoggerFactory.getLogger(RocketMqUPPCallBackBean.class);

    @Bean
    MQConsumerFactory callbackMqConsumer(RocketMqUPPCallBackConfig rocketMqUPPCallBackConfig, PamentCallBackMqListener listener){
        MQConsumerFactory mqConsumerFactory = new MQConsumerFactory();
        try {
            mqConsumerFactory.setConfigUrl(rocketMqUPPCallBackConfig.getConfigUrl());
            mqConsumerFactory.setAppName(rocketMqUPPCallBackConfig.getConsumeAppName());
            mqConsumerFactory.setTopicName(rocketMqUPPCallBackConfig.getConsumeTopicName());
            mqConsumerFactory.setListenerConcurrently(listener);
            mqConsumerFactory.setMessageModel(MessageModel.BROADCASTING);
            return mqConsumerFactory;
        } catch (Exception e) {
            LOGGER.error("初始化rocketmq异常",e);
        }
        return mqConsumerFactory;
    }
}
```
```
@Configuration
@PropertySource("classpath:redis.properties")
public class RedisConfig {
	
	@Value("${spring.redis.switchState}")
    private boolean switchState;
}
```

