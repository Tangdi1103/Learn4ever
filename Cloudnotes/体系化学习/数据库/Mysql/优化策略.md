[toc]



### 硬件升级

- 内存
- CPU
- 磁盘
- 网络带宽



### ==数据库配置==

![image-20210921124258232](images/image-20210921124258232.png)





### ==SQL 优化==

执行计划分析

索引优化



### ==开发规范==

- 单表查询
- 少量Join
- 禁止视图、触发器等
- 避免重复索引
- 不使用select *
- 不在有限的数据上做索引





### ==表设计优化==

- 禁止字段NULL
- 减少宽表设计（字段太多，binlog就很大）
- 使用自增主键
- 使用tinyint代替enum
- 时间字段使用datetime
- varchar不要使用过长的声明
- 少用text大字段



### ==减少数据库访问==

- 本地缓存（Guava）
- 分布式缓存





### 架构优化

- 主从架构

  读写分离

- 分库分表

  单库表数量控制在2000以内

  单表分表控制在1024以内

  单表字段控制在50以内