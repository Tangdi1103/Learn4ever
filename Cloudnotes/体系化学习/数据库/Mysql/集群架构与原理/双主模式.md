[toc]

相当于特殊的主从架构，每个主库对于其他库来说同时也是从库。比如对A来说A主B从，对B来说B主A从。注意：主库发送binlog时，会过滤由其他主库发送过来的事务ID的记录





双主双写？双主单写？

随着业务发展，架构会从主从模式演变为双主模式，建议用双主单写，再引入高可用组件，例如Keepalived和MMM等工具，实现主库故障自动切换

双主双写的问题：

- ID冲突

  尚未同步时，多次切换不同主库写，造成双主的ID冲突。（可使用分布式ID解决）

- 更新丢失

  同一条记录在两个主库进行更新，会发生前面覆盖后面的更新丢失



