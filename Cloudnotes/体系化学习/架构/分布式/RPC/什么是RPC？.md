#### 什么是RPC？
RPC是远程过程调用的简称，远程调用方法而不是调用本地方法


#### 为什么要用RPC？
不同服务的方法不在一个内存空间，需要通过网络编程发起请求以及响应结果。而RPC封装了网络编程，用户无需了解底层细节，可以像调用本地方法一样调用远程方法。

#### RPC和restful有什么区别
区别在于是否需要手动实现网络编程

#### RPC原理是啥？工作流程？
###### RPC核心功能由六个部分实现，分别是：
- ==客户端==：调用远程的一端
- ==客户端stub桩==：相当于一个代理类，将请求的类、方法、参数等信息传递给服务端
- ==网络传输==：客户端的请求报文到服务端，服务端的响应报文到客户端。可用底层的socket实现或者性能优异的netty框架
- ==服务端stub桩==：不是代理类，根据客户端的请求去找到对应的方法执行，然后将执行结果结果返回给客户端
- ==服务端==：提供远程方法的一端

###### 流程如下：

![image](https://cdn.nlark.com/yuque/0/2020/jpeg/738439/1594822112983-86e253d1-4447-4510-a8e4-b5edbe2f8085.jpeg)

1. 服务消费端（client）以本地调用的方式调用远程服务；
1. 客户端 Stub（client stub） 接收到调用后负责将方法、参数等组装成能够进行网络传输的消息体（序列化）：RpcRequest；
1. 客户端 Stub（client stub） 找到远程服务的地址，并将消息发送到服务提供端；
1. 服务端 Stub（桩）收到消息将消息反序列化为Java对象: RpcRequest；
1. 服务端 Stub（桩）根据RpcRequest中的类、方法、方法参数等信息调用本地的方法；
1. 服务端 Stub（桩）得到方法执行结果并将组装成能够进行网络传输的消息体：RpcResponse（序列化）发送至消费方；
1. 客户端 Stub（client stub）接收到消息并将消息反序列化为Java对象:RpcResponse ，这样也就得到了最终结果。over!