## 一、RocketMQ架构与应用

#### 应用场景



#### 部署架构



#### 核心概念



#### 实战



## 二、RocketMQ高级特性与原理

### 发送方式

### 消费方式

- Push模式

  优点实时性高，但是容易造成消费者的消息积压，严重时会压垮客户端。Rocket的Push模式其实就是**封装了不断循环Pull的操作**

- Pull模式

  优点是消费者量力而行，不会出现消息积压。缺点就是如何控制Pull的频率。定时间隔太久担心影响时效性，间隔太短担心做太多“无用功”浪费资源。比较折中的办法就是长轮询。



### 可靠性（持久化、防止丢失）

- 零拷贝

- 同步复制和异步复制

- 高可用机制

- 刷盘机制



### 负载均衡

### 过滤消息

### 死信队列

### 延迟消息

### 消息重试

### 顺序消息

### 事务消息

### 消息重投

### 流量控制（防止堆积）

