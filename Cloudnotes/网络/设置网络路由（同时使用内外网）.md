[TOC]
### 一、场景
在日常工作中，一般情况下是不允许一台电脑同时连接内外网的，一方面是基于安全考虑，另一方面计算机也无法自动区分内外网IP地址。
而在工作中，存在同时使用公司的内网系统及外部的互联网的需求，如果每次都手动切换网络环境的话，有很多重复操作，效率很低。


### 二、解决方案
1. 编写网络切换脚本，每次需要切换网络时，执行切换脚本；
1. 通过命令行配置，固定路由，无须插拔网线，自动切换内外网。


### 三、配置网络路由的方式
> 1、同时连接内网（网线）和外网（无线）
> 
> 2、Windows键 + X 打开管理员模式PowerShell
> 
> 3、输入route print，查看默认路由。默认路由为0.0.0.0，有线网优先级高于无线网。若有永久路由配置，使用route 	delete x.x.x.x删除即可
> 
> 4、使用ipconfig查找到内网(以太网)及外网(无线)的默认网关
> 
> 5、添加外网路由route -p add 0.0.0.0 mask 0.0.0.0 192.168.2.1（外网网关）
> 
> 6、添加内网路由route -p add 10.0.0.0 mask 255.0.0.0 10.75.12.1（内网网关）
> 
> 7、输入route print查看网络路由是否设置成功

> 重置：netsh int ipv4 reset

> 跃点数越小优先级越高


	

### 四、原理解说
	一般情况下，计算机默认的路由信息都是全部交给一个内网网关。
	我们的解决思路就是告诉计算机：
	所有网络请求都通过外网网关，但，对于内网网址（10.0.0.0网段），都通过内网网关。
	所以最终内外网同时连接上后，此时内外网的默认网关同时存在，但计算机会根据路由配置自动转发；如果有相同
	目标（如0.0.0.0），则优先跃点数小
	的